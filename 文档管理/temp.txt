spark-submit \
--master yarn \
--conf spark.driver.extraJavaOptions='-DdbName=product -Denv=uat -Ddbenv=pro -Dapollo.meta=http://172.21.1.50 -XX:+TraceClassPaths' \
--conf spark.yarn.user.classpath.first=true \
--conf spark.executor.extraClassPath=/data/lib/guava-29.0-jre.jar \
--conf spark.executor.extraLibraryPath=/data/lib/guava-29.0-jre.jar \
--files /data/ezr-bd-spark-hive/proConf/jdbc.properties,/data/ezr-bd-spark-hive/proConf/application.conf \
--jars /data/EZR.BigData.Framework.Tool/1.0.0/EZR.BigData.FrameWork.Data-2.0.32-jar-with-dependencies.jar,/data/EZR.BigData.Framework.Tool/1.0.0/EZR.BigData.FrameWork.Data.Busi-2.0.32-jar-with-dependencies.jar,/data/lib/guava-29.0-jre.jar,/data/lib/ST4-4.3.1.jar,/data/lib/antlr-runtime-3.5.2.jar,/data/lib/ezr-clickhouse-jdbc-0.2.4.2.jar,/data/lib/druid-1.2.8.jar \
--num-executors 4 \
--executor-cores 2 \
--executor-memory 4G \
--driver-memory 4G \
--proxy-user hadoop \
--name  VipInfoJoinBeginGradeToCKNew40025 \
--class ezr.bigdata.jobs.batch.framework.batch.BatchJobStartup \
--queue crmJob \
--deploy-mode cluster \
/data/EZR.BigData.Jobs.Batch.Engine/pro/EZR.BigData.Jobs.Batch.Engine-1.1.29.jar ezr.bigdata.jobs.batch.crm.vip.VipInfoJoinBeginGradeToCKByShardGrpOrBrandIdsTool '{"isInit":1,"shardGrpId":40025,"brandIds":[808]}'


,
    {
        "FieldName":"TradeNo",
        "FieldType":"String",
        "Index":54,
        "IsNativeField":1
    }


{"BrandIds": "429", "DbCode": "ezp-mall", "TableName": "mall_fx_order_commssion_dtl", "ConsumerGroupId": "BigDataIntegrationPush", "FromId": "0", "PkName": "Id", "PkType": "Number", "PageSize": 100}



{"BrandIds": "842", "DbCode": "ezp-mall", "TableName": "mall_sales_order", "ConsumerGroupId": "BigDataIntegrationPush", "FromId": "0", "PkName": "Id", "PkType": "Number", "PageSize": 100}	

{"BrandIds": "842", "DbCode": "ezp-mall", "TableName": "mall_fx_order_commssion_dtl", "ConsumerGroupId": "BigDataIntegrationPush", "FromId": "0", "PkName": "Id", "PkType": "Number", "PageSize": 100}

{"BrandIds": "842", "DbCode": "ezp-mall", "TableName": "mall_sales_order_ref_status", "ConsumerGroupId": "BigDataIntegrationPush", "FromId": "0", "PkName": "Id", "PkType": "Number", "PageSize": 100}	

页面菜单是从job中解析数据获得的


H5会员中心 weipage=3|8|9|10|11|12|13|14|15|16|17
    概览及按照日期api/bigData/Behavior/PageStatistics/GetPageStatisticsData GET请求
    按日期查看api/bigData/Behavior/PageStatistics/GetList GET请求GroupByFields=date
    按页面查看api/bigData/Behavior/PageStatistics/GetList GET请求GroupByFields=pageName
    按日期查看导出api/crm/Behavior/PageStatistics/DownPageData POST请求 GroupByFields=date
    按页面查看导出api/crm/Behavior/PageStatistics/DownPageData POST请求 GroupByFields=pageName

    按页面查看的页面信息接口？


H5微商城 weipage=4|5|6
    概览商城流量及按照日期 api/bigData/Behavior/PageStatistics/GetPageStatisticsData weipage=4|5|6
    详细数据api/bigData/Behavior/PageStatistics/GetList GroupByFields: date weipage=4|5|6
    导出数据api/bigData/Behavior/PageStatistics/OutExcel?WeiPage=4|5|6 GroupByFields: date

    概览商品分析及按照日期 api/bigData/Behavior/PageStatistics/GetPageStatisticsData weipage = 5
    详细数据api/bigData/Behavior/PageStatistics/GetList weipage = 5 GroupByFields:productName|productItemNo
    导出数据 api/bigData/Behavior/PageStatistics/OutExcel?WeiPage=5& GroupByFields:productName|productItemNo

    概览微页面分析及按照日期api/bigData/Behavior/PageStatistics/GetPageStatisticsData weipage = 6
    详细数据api/bigData/Behavior/PageStatistics/GetList weipage = 6 GroupByFields: pageName

管理后台 weipage = 7
    概览api/bigData/Behavior/PageStatistics/GetPvUvData
    近30天走势api/bigData/Behavior/PageStatistics/GetDatePageList
    按页面查看 api/bigData/Behavior/PageStatistics/GetPageList "pageName|date"
    按员工查看 api/bigData/Behavior/PageStatistics/GetPageList GroupByFields: "userId|date" （统计项分为Pv/Uv）
    导出按页面查看api/crm/Behavior/PageStatistics/DownPageData  GroupByFields: "pageName|date"
    导出按员工查看统计项未pv：api/crm/Behavior/PageStatistics/DownPageData GroupByFields: "userId|date" Type: 2
    导出按员工查看统计项未uv：api/crm/Behavior/PageStatistics/DownPageData GroupByFields: "userId|date" Type: 1
    导出未登录员工：api/crm/Behavior/PageStatistics/DownPageData GroupByFields: "userId|nosign|date"

营销助手
    门店版-概览api/bigData/Behavior/PageStatistics/GetPvUvData WeiPage = 1
    门店版-近30天趋势图 api/bigData/Behavior/PageStatistics/GetDatePageList GroupByFields: "Day"
    门店版-按页面查看api/bigData/Behavior/PageStatistics/GetPageList GroupByFields: "Day""pageName|date"
    门店版-按员工查看api/bigData/Behavior/PageStatistics/GetPageList GroupByFields: "userId|date"
    门店版-按门店查看api/bigData/Behavior/PageStatistics/GetPageList GroupByFields: "orgId|date"
    门店版-导出按页面查看-导出excel api/crm/Behavior/PageStatistics/DownPageData GroupByFields: "Day""pageName|date"
    门店版-导出按页面查看-导出导购数据 api/crm/Sys/SysUser/DownAppLoginLogs GET请求
    门店版-按员工查看（PV）导出数据 api/crm/Behavior/PageStatistics/DownPageData GroupByFields: "userId|date" Type: 2
    门店版-按员工查看（UV）导出数据 api/crm/Behavior/PageStatistics/DownPageData GroupByFields: "userId|date" Type: 1
    门店版-导出未登录员工数据 api/crm/Behavior/PageStatistics/DownPageData GroupByFields: "userId|nosign|date"
    门店版-导出按门店查看 api/crm/Behavior/PageStatistics/DownPageData GroupByFields: "orgId|date"

    管理版-概览+趋势图api/bigData/Behavior/PageStatistics/GetPageStatisticsData?&WeiPage=2
    管理版-按日期查看api/bigData/Behavior/PageStatistics/GetList GroupByFields: date
    管理版-按页面查看api/bigData/Behavior/PageStatistics/GetList GroupByFields: pageName
    管理版-按员工查看api/bigData/Behavior/PageStatistics/GetList GroupByFields: date|shopUserCode
    管理版-导出按日期查看api/bigData/Behavior/PageStatistics/OutExcelSapp GroupByFields: "date"
    管理版-导出按页面查看api/bigData/Behavior/PageStatistics/OutExcelSapp GroupByFields: "pageName"
    管理版-导出按员工导出api/bigData/Behavior/PageStatistics/OutExcelSapp GroupByFields: "date|shopUserCode"
    管理版-导出未登录员工导出api/bigData/Behavior/PageStatistics/OutExcelSapp GroupByFields: "userId|nosign|date"

